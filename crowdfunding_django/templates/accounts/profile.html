{% extends 'base.html' %} {% load static %} {% block extra_css %}
<style>
  .profile-container {
    max-width: 800px;
    margin: 2rem auto;
  }

  .profile-header {
    background: linear-gradient(
      135deg,
      var(--primary-color),
      var(--secondary-color)
    );
    color: var(--white);
    padding: 2rem;
    border-radius: var(--border-radius-lg);
    margin-bottom: 2rem;
    text-align: center;
  }

  .profile-avatar {
    width: 100px;
    height: 100px;
    background: var(--white);
    color: var(--primary-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    margin: 0 auto 1rem;
    box-shadow: var(--shadow-md);
  }

  .profile-name {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .profile-email {
    {% extends 'base.html' %}
    {% block content %}
    <div style="max-width:400px;margin:2rem auto;padding:2rem;border:1px solid #eee;border-radius:8px;">
      <h2>Profile</h2>
      <p><strong>Name:</strong> {{ user.get_full_name|default:user.email }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <p><strong>Member Since:</strong> {{ user.date_joined|date:"F d, Y" }}</p>
      <p><strong>Last Login:</strong> {{ user.last_login|date:"F d, Y g:i A"|default:"Never" }}</p>
      <div style="margin-top:2rem;">
        <a href="{% url 'accounts:profile_update' %}">Edit Profile</a> |
        <a href="{% url 'projects:create' %}">Create Project</a>
      </div>
    </div>
    {% endblock %}
          </div>
        </div>
      </div>

      <!-- Recent Projects -->
      <div class="profile-section">
        <div class="section-header">
          <h3 class="section-title">
            <i class="fas fa-project-diagram" aria-hidden="true"></i>
            Recent Projects
          </h3>
          <a href="{% url 'projects:create' %}" class="btn btn-sm btn-primary">
            <i class="fas fa-plus" aria-hidden="true"></i>
            New Project
          </a>
        </div>
        <div class="section-content">
          {% if recent_projects %}
          <div class="project-list">
            {% for project in recent_projects %}
            <div class="project-item">
              <h4>
                <a href="{% url 'projects:detail' project.pk %}"
                  >{{ project.title }}</a
                >
              </h4>
              <p class="project-meta">
                Created {{ project.created_at|date:"M d, Y" }} • Target: ${{
                project.total_target|floatformat:0 }} • Raised: ${{
                project.current_amount|floatformat:0 }}
              </p>
            </div>
            {% endfor %}
          </div>
          <div class="text-center">
            <a
              href="{% url 'projects:user_projects' %}"
              class="btn btn-outline-primary"
            >
              View All Projects
            </a>
          </div>
          {% else %}
          <div class="empty-state">
            <i class="fas fa-project-diagram" aria-hidden="true"></i>
            <h4>No Projects Yet</h4>
            <p>
              You haven't created any projects. Start your first crowdfunding
              campaign!
            </p>
            <a href="{% url 'projects:create' %}" class="btn btn-primary">
              <i class="fas fa-plus" aria-hidden="true"></i>
              Create Your First Project
            </a>
          </div>
          {% endif %}
        </div>
      </div>

      <!-- Recent Contributions -->
      <div class="profile-section">
        <div class="section-header">
          <h3 class="section-title">
            <i class="fas fa-hand-holding-heart" aria-hidden="true"></i>
            Recent Contributions
          </h3>
        </div>
        <div class="section-content">
          {% if recent_contributions %}
          <div class="contribution-list">
            {% for contribution in recent_contributions %}
            <div class="contribution-item">
              <h4>
                <a href="{% url 'projects:detail' contribution.project.pk %}"
                  >{{ contribution.project.title }}</a
                >
              </h4>
              <p class="contribution-meta">
                ${{ contribution.donation_amount|floatformat:0 }} contributed on
                {{ contribution.donation_date|date:"M d, Y" }}
              </p>
            </div>
            {% endfor %}
          </div>
          {% else %}
          <div class="empty-state">
            <i class="fas fa-hand-holding-heart" aria-hidden="true"></i>
            <h4>No Contributions Yet</h4>
            <p>
              You haven't contributed to any projects yet. Explore projects and
              support great ideas!
            </p>
            <a href="{% url 'projects:list' %}" class="btn btn-primary">
              <i class="fas fa-search" aria-hidden="true"></i>
              Explore Projects
            </a>
          </div>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Profile Actions -->
    <div class="profile-actions">
      <a
        href="{% url 'accounts:profile_update' %}"
        class="action-btn action-btn-primary"
      >
        <i class="fas fa-edit" aria-hidden="true"></i>
        Edit Profile
      </a>
      <a
        href="{% url 'projects:create' %}"
        class="action-btn action-btn-outline"
      >
        <i class="fas fa-plus" aria-hidden="true"></i>
        Create Project
      </a>
      <a
        href="{% url 'projects:user_projects' %}"
        class="action-btn action-btn-outline"
      >
        <i class="fas fa-list" aria-hidden="true"></i>
        My Projects
      </a>
    </div>
  </div>
</div>
{% endblock %}
